---
title: "我是如何用 Next.js + Tailwind 搭建这个 AI 博客的"
date: "2025-11-27"
description: "抛弃 WordPress，拒绝复杂的 Docker。记录我如何从零开始，使用 Next.js 15 和 Tailwind CSS v4 构建一个高性能、现代化的扁平化博客系统。"
tags: ["Next.js", "Tailwind CSS", "Architecture", "Learning"]
---

## 为什么要自己造轮子？

作为一个致力于深入学习 AI 和 IT 技术的人，我面临一个选择：是使用现成的 WordPress/Notion，还是亲手搭建一个网站？

我选择了后者。因为我的目标不仅仅是“发布文章”，更是在搭建的过程中，**以架构师的视角**去理解现代 Web 开发的全貌：从数据流的设计、渲染机制的选择，到自动化部署（CI/CD）的实现。

这篇文章将复盘我搭建这个博客的技术栈选型、架构设计以及遇到的那些“坑”。

## 1. 技术栈选型：追求极致的性能与体验

在 IT 架构中，**“选型”** 往往比**“写代码”** 更重要。以下是我的“武器库”：

- **核心框架：Next.js 15 (App Router)**
  - *理由：* 它是 React 生态的标准。我使用了 **SSG (静态站点生成)** 技术，文章在构建时就编译成了 HTML。这意味着访问速度极快，且对 SEO（搜索引擎）极其友好。
- **样式方案：Tailwind CSS v4**
  - *理由：* 这是一个大胆的尝试。v4 是最新的版本，主打 "CSS First"。它让我不再为类名头疼，实现了真正的**原子化设计 (Utility-First)**。
- **数据源：Markdown (Flat-file CMS)**
  - *理由：* 没有数据库，文件即数据。这让我的内容极其便携，且版本控制（Git）能完美追踪文章的每一次修改。
- **部署：Vercel + GitHub**
  - *理由：* 实现了 GitOps 工作流。我只需要 `git push`，Vercel 就会自动触发构建并分发到全球 CDN。

## 2. 架构设计：数据是如何流动的？

这个博客本质上是一个**数据管道 (Pipeline)**。

```mermaid
graph LR
    A[Markdown 文件] -->|gray-matter| B(解析元数据)
    B -->|remark| C(编译 HTML)
    C -->|Next.js| D[React 组件]
    D -->|Build| E[静态网页]
```

我编写了专门的 TypeScript 模块 (`src/lib/posts.ts`) 来处理这个流程，实现了数据层与表现层的**关注点分离 (Separation of Concerns)**。

## 3. 遇到的最大挑战：Tailwind v4 的暗黑模式

在开发“夜间模式”时，我遇到了一个意想不到的 bug。

**问题现象：**
即使我使用了 `next-themes` 库，并且 HTML 标签上已经有了 `.dark` 类名，但页面的背景依然无法变黑。

**根本原因：**
Tailwind v4 更改了架构，默认强制使用“系统偏好”来驱动暗黑模式，忽略了类名策略。这是新框架带来的 "Breaking Change"。

**解决方案：**
我深入理解了 CSS 变体机制，在 `globals.css` 中手动“劫持”了 `dark` 变体：

```css
/* 告诉 Tailwind：只要看到父元素有 .dark 类，就触发 dark 模式 */
@variant dark (&:where(.dark, .dark *));
```

这次 debug 经历让我深刻理解了：**不要只做 API 的调用者，要理解工具底层的原理。**

## 4. 组件化重构：从混乱到有序

起初，我的 `page.tsx` 里塞满了代码。为了提高可维护性，我进行了组件化重构：

- **Navbar 组件：** 负责全局导航和主题切换。
- **PostCard 组件：** 负责展示文章卡片。

这种**原子化组件**的设计，让我的代码结构变得清晰，也为未来添加更多功能（比如 AI 摘要卡片）打好了地基。

## 5. 下一步计划：AI 赋能

现在的博客还是“静态”的。接下来，我将进行从“前端”到“全栈”的跨越：

1.  **接入 DeepSeek API：** 为每篇文章自动生成 AI 摘要。
2.  **开发 Next.js API Routes：** 在后端安全地处理密钥。
3.  **实现流式传输：** 让 AI 的回复像打字机一样展示。

这是我 IT 学习之路的起点。如果你也对从零搭建现代架构感兴趣，欢迎持续关注！
```

---